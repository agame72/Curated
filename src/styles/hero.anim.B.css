:root{
  /* Appleâ€‘y pacing */
  --ease: cubic-bezier(.22,.61,.36,1);
  --photo-dur: 700ms;
  --photo-pad: 120ms; /* breathing room before the title */
  --h1-dur:    540ms;
  --h1-delay:  calc(var(--photo-dur) + var(--photo-pad));
  --group-gap: 520ms;
  --group-dur: 900ms;
}
@media (prefers-reduced-motion: reduce) {
  [data-anim="B"] { opacity: 1 !important; }
  [data-anim="B"] .h1,
  [data-anim="B"] .lede,
  [data-anim="B"] .ctaWrap,
  [data-anim="B"] .paletteRow,
  [data-anim="B"] .logo,
  [data-anim="B"] [data-hero-media] img {
    opacity: 1 !important; transform: none !important; filter: none !important;
  }
}

[data-anim="B"] { opacity: 0; }
[data-anim="B"][data-anim-state="in"] { opacity: 1; transition: opacity var(--h1-dur) var(--ease); }

/* BEAT 1: Photos first */
[data-anim="B"] [data-hero-media] img { opacity: 0; filter: blur(8px); }
[data-anim="B"] [data-hero-media] img.is-left  { transform: translateX(-12px); }
[data-anim="B"] [data-hero-media] img.is-right { transform: translateX( 12px); }
[data-anim="B"][data-anim-state="in"] [data-hero-media] img {
  opacity: 1; transform: translateX(0); filter: blur(0);
  transition: transform var(--photo-dur) var(--ease),
              opacity   var(--photo-dur) var(--ease),
              filter    calc(var(--photo-dur) + 160ms) ease;
  transition-delay: 0ms;
}

/* Fallback for pillar/tile images outside data-hero-media container */
[data-anim="B"] .hero__pillar img,
[data-anim="B"] .hero__tile img { opacity: 0; filter: blur(8px); }
[data-anim="B"] .hero__pillar--left img.is-left,
[data-anim="B"] .hero__tile--a img.is-left { transform: translateX(-12px); }
[data-anim="B"] .hero__pillar--right img.is-right,
[data-anim="B"] .hero__tile--b img.is-right { transform: translateX(12px); }
[data-anim="B"][data-anim-state="in"] .hero__pillar img,
[data-anim="B"][data-anim-state="in"] .hero__tile img {
  opacity: 1; transform: translateX(0); filter: blur(0);
  transition: transform var(--photo-dur) var(--ease),
              opacity   var(--photo-dur) var(--ease),
              filter    calc(var(--photo-dur) + 160ms) ease;
  transition-delay: 0ms;
}

/* BEAT 2: NEW + H1 together */
[data-anim="B"] .h1,
[data-anim="B"] .eyebrow {
  opacity: 0; transform: translateY(10px) scale(.985);
}
[data-anim="B"][data-anim-state="in"] .h1,
[data-anim="B"][data-anim-state="in"] .eyebrow {
  opacity: 1; transform: translateY(0) scale(1);
  transition: transform var(--h1-dur) var(--ease), opacity var(--h1-dur) var(--ease);
  transition-delay: var(--h1-delay);
}

/* BEAT 3: One unified group (no motion) */
[data-anim="B"] .lede,
[data-anim="B"] .ctaWrap,
[data-anim="B"] .paletteRow,
[data-anim="B"] .logo { opacity: 0; transform: none; }
[data-anim="B"][data-anim-state="in"] .lede,
[data-anim="B"][data-anim-state="in"] .ctaWrap,
[data-anim="B"][data-anim-state="in"] .paletteRow,
[data-anim="B"][data-anim-state="in"] .logo {
  opacity: 1;
  transition: opacity var(--group-dur) var(--ease);
  transition-delay: calc(var(--h1-delay) + var(--h1-dur) + var(--group-gap));
}

/* Make the palette group inseparable; children inherit the container fade */
.paletteRow > * { opacity: inherit !important; transform: none !important; transition: none !important; }

@keyframes eyebrow-bump {
  0%   { transform: translateY(0); }
  45%  { transform: translateY(-3px); }
  100% { transform: translateY(0); }
}

/* Trigger the bump when H1 starts */
[data-anim="B"][data-anim-state="in"] .eyebrow {
  animation: eyebrow-bump 340ms var(--ease) 1;
  animation-delay: var(--h1-delay);
}

/* Icon follows paletteRow container (no separate timing) */
[data-anim="B"] .icon--bolt { opacity: 0; }
[data-anim="B"][data-anim-state="in"] .icon--bolt { opacity: 1; transition: opacity var(--group-dur) var(--ease); }


